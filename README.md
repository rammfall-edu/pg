# pg

## Подключение к базе данных

```bash
  psql -U имя_пользователя_внутри_базы -h хост -p порт -d имя_базы_данных
```
После вводите пароль в терминале и жмете ENTER

## Команды постреса

### Список всех баз данных
```bash
  \l
```
### Подключится к конкретной базе данных
```bash
  \c имя_базы_данных
```
### Мы можем увидеть слева от ввода в какой мы сейчас базе данных
```bash
todo=#
```
где todo имя базы данных
### Посмотреть список таблиц
```bash
\dt
```
### Чтобы выйти из БД
```bash
\q
```

## Команды SQL

### Создать БД
```sql
CREATE DATABASE имя_базы;
```
### Удалить БД
```sql
DROP DATABASE имя_базы;
```
### Создать таблицу
```sql

CREATE TABLE имя_таблицы (
  название_колонки её_тип доп_часть(опционально),
  название_колонки её_тип доп_часть(опционально)
);

```
## Примеры
### Например, создадим таблицу с названием products для хранения товаров и их количества. Представим, что мы хотели бы вести это в экселе. Мы бы там просто сделали колонки и ниже бы писали бы данные. Но давайте сделаю в базе данных

```sql
CREATE TABLE products (
  id SERIAL PRIMARY KEY,
  productName VARCHAR(30) NOT NULL,
  quantity INTEGER NOT NULL DEFAULT(0)
);
```

И вот вы сидите такой весь программист на складе, к вам приезжает грузовик с товарами и привез вам столы, 20 штук. Вы их принимаете и делаете запись в вашу БД, в табличку products

```sql
INSERT INTO products (productName, quantity) VALUES ('Table', 20);
```
Потом приезжает ещё грузовик и привез вам чашки, 300 штук. Вы приняли и вбили их в БД

```sql
INSERT INTO products (productName, quantity) VALUES ('cup', 300);
```

Потом вам звонит поставщик и говорит, что привезет завтра вам ананасы, но количество не знает ещё. Ну и вы решили заранее ввести их в БД

```sql
INSERT INTO products (productName) VALUES ('pineapple');
```


Вот вы сидите со своим postgres и столами, вам наконец звонит мебельный магазин и хочет у вас купить 10 столов, но вы забыли, хватит ли у вас столов, и решаете проверить их количество на вашем складе. 

```sql
SELECT * FROM products;
```
И вам выводится список всего с вашего склада

```sql
 id | productname | quantity
----+-------------+----------
  1 | Table       |       20
  2 | cup         |      300
  3 | pineapple   |        0
(3 rows)
```

